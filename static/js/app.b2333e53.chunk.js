(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{247:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(379),o=n(381),s=n(169),a=n(53),c=n(22),i=n(10),l=function(){return Object(i.jsxs)(a.a,{style:{flex:1,margin:10},children:[Object(i.jsx)(c.a,{style:{fontSize:25,margin:10},children:"Comment jouer ?"}),Object(i.jsx)(c.a,{style:{fontSize:17},children:"50 QR codes seront cach\xe9s dans le lyc\xe9e !"}),Object(i.jsx)(c.a,{style:{fontSize:10},children:"(Dans toute l'enceinte du lyc\xe9e, ext\xe9rieur et int\xe9rieur, sauf endroits non-accessibles aux \xe9l\xe8ves. Chaque QR code vaut 1 point.)"}),Object(i.jsx)(c.a,{style:{fontSize:15},children:"\xc0 chaque QR code trouv\xe9 et scann\xe9, un point sera ajout\xe9 \xe0 votre compte."}),Object(i.jsx)(c.a,{style:{fontSize:15},children:"Il faut scanner les QR codes directement avec l'application appareil photo de votre t\xe9l\xe9phone."}),Object(i.jsx)(c.a,{style:{fontSize:15},children:"Plus vous aurez de points plus vous allez monter dans le classement !"}),Object(i.jsx)(c.a,{style:{fontSize:25,margin:10},children:"Tranche de gagnant :"}),Object(i.jsx)(c.a,{style:{fontSize:17,marginBottom:8},children:"1er : Gros paquet de chocolats + 2 produits gratuit par jours pendant une semaine \xe0 la cafet + une Wonderbox "}),Object(i.jsx)(c.a,{style:{fontSize:17,marginBottom:8},children:"2\xe8me-3\xe8me : Paquet moyen de chocolats + 2 produits gratuit par jours pendant une semaine \xe0 la cafet"}),Object(i.jsx)(c.a,{style:{fontSize:17},children:"4\xe8me-15\xe8me : Petit paquet de chocolats"}),Object(i.jsx)(c.a,{style:{fontSize:25,margin:10},children:"R\xe8glement :"}),Object(i.jsx)(c.a,{style:{fontSize:15},children:"- Retirer ou d\xe9grader les QR code est interdit."}),Object(i.jsx)(c.a,{style:{fontSize:15},children:"- Un compte avec un Nom ou/et un Pr\xe9nom inappropri\xe9 verra le compte supprim\xe9."}),Object(i.jsx)(c.a,{style:{fontSize:15,marginTop:10},children:"Dur\xe9e de l'\xe9v\xe8nement: 08/04 8h au 14/04 18h"}),Object(i.jsx)(c.a,{style:{marginTop:40},children:"Site web d\xe9velopp\xe9 par Eliott Bregere"})]})},u=n(7),j=n.n(u),d=n(20),b=n.n(d),p=n(9),h=n(12),m=n(94),f=n(112),x=n(86),O=n(0),g=n(78),y=n.n(g);var v=function(e){return 1===e.position?Object(i.jsxs)(p.a,{style:{flexDirection:"row",margin:10,backgroundColor:"#d4ac0d"},children:[Object(i.jsxs)(c.a,{style:{fontSize:15},children:[e.position,".  "]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom," \ud83d\udc51"]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):2===e.position||3===e.position?Object(i.jsxs)(p.a,{style:{flexDirection:"row",margin:10,backgroundColor:"#aab7b8"},children:[Object(i.jsxs)(c.a,{style:{fontSize:15},children:[e.position,".  "]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):e.position>3&&e.position<=15?Object(i.jsxs)(p.a,{style:{flexDirection:"row",margin:10,backgroundColor:"#e59866"},children:[Object(i.jsxs)(c.a,{style:{fontSize:15},children:[e.position,".  "]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):Object(i.jsxs)(p.a,{style:{flexDirection:"row",margin:10},children:[Object(i.jsxs)(c.a,{style:{fontSize:15},children:[e.position,".  "]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),Object(i.jsxs)(c.a,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]})},S=h.a.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"},main_container:{flex:1,textAlign:"center",margin:10,alignItems:"center",justifyContent:"center"},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}}),C=function(e){var t=e.navigation,n=(t.navigate,t.replace,Object(O.useState)(0)),r=j()(n,2),o=r[0],s=r[1],l=Object(O.useState)(0),u=j()(l,2),d=u[0],h=u[1],g=Object(O.useState)(0),C=j()(g,2),z=C[0],T=C[1],w=Object(O.useState)(0),P=j()(w,2),I=P[0],k=P[1],R=Object(O.useState)(!1),_=j()(R,2),D=_[0],E=_[1],L=Object(O.useState)({}),U=j()(L,2),q=U[0],B=U[1],W=Object(O.useState)(!0),M=j()(W,2),A=M[0],N=M[1],Q=Object(O.useState)(0),J=j()(Q,2),V=J[0],G=J[1];return Object(O.useEffect)((function(){setInterval((function(){var e=new Date("2022-04-08T06:00:00.000Z")-new Date;if(e<1)E(!0);else{var t=Math.floor(e/864e5),n=Math.floor(e/36e5%24),r=Math.floor(e/1e3/60%60),o=Math.floor(e/1e3%60);s(t),h(n),T(r),k(o)}}),1e3)}),[]),D?A?(fetch("https://mdljm.fr:8443/qrcode/classement").then((function(e){return e.json()})).catch((function(e){return console.error(e)})).then((function(e){B(e.classement)})),function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(y.a.getItem("token"));case 2:return e=n.sent,t="https://mdljm.fr:8443/account/getClassement?token="+encodeURI(e),n.abrupt("return",fetch(t).then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 5:case"end":return n.stop()}}),null,null,null,Promise)}().then((function(e){G(e.rank)})),N(!1),Object(i.jsx)(p.a,{style:S.loading_container,children:Object(i.jsx)(f.a,{size:"large"})})):Object(i.jsxs)(a.a,{style:S.classement,children:[Object(i.jsxs)(p.a,{style:S.buttons,children:[Object(i.jsxs)(c.a,{children:["Votre rang est: ",V]}),Object(i.jsx)(x.a,{onPress:function(){N(!0)},title:"\ud83d\udd01"})]}),Object(i.jsx)(m.a,{data:q,renderItem:function(e){var t=e.item;return Object(i.jsx)(v,{position:t.position,prenom:t.prenom,nom:t.nom,points:t.points})}})]}):Object(i.jsxs)(p.a,{style:S.main_container,children:[Object(i.jsx)(c.a,{style:{marginBottom:10},children:"Bient\xf4t ! \ud83d\ude09"}),Object(i.jsxs)(c.a,{children:[o," Jours ",d," Heures ",z," minutes ",I," secondes"]})]})},z=(n(369),n(380)),T=n(67);var w=h.a.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"},main_container:{flex:1,textAlign:"center",margin:10},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}}),P=function(e){var t=e.navigation,n=t.navigate,r=t.replace,o=Object(O.useState)(""),s=j()(o,2),a=s[0],l=s[1],u=Object(O.useState)(""),d=j()(u,2),h=d[0],m=d[1],g=Object(O.useState)(!1),v=j()(g,2),S=v[0],C=v[1],z=Object(O.useState)(""),P=j()(z,2),I=P[0],k=P[1];if(S)return Object(i.jsx)(p.a,{style:w.loading_container,children:Object(i.jsx)(f.a,{size:"large"})});return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.awrap(y.a.getItem("token"));case 3:null!==e.sent&&r("Profil"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),null,null,[[0,7]],Promise),Object(i.jsxs)(p.a,{style:w.main_container,children:[Object(i.jsx)(c.a,{style:{fontSize:17},children:"Email:"}),Object(i.jsx)(T.a,{textContentType:"emailAddress",autoCorrect:!1,autoCompleteType:"email",keyboardType:"email-address",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return l(e)},value:a}),Object(i.jsx)(c.a,{style:{fontSize:17},children:"Mot de passe:"}),Object(i.jsx)(T.a,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return m(e)},value:h}),Object(i.jsxs)(p.a,{style:w.buttons,children:[Object(i.jsx)(x.a,{onPress:function(){C(!0),function(e,t){var n="https://mdljm.fr:8443/account/login?email="+encodeURI(e)+"&password="+encodeURI(t);return fetch(n).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}(a,h).then((function(e){if(console.log(e),e.token){b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.awrap(y.a.setItem("token",""+e.token));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),k(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise),C(!1),n("Porfil")}else k("Erreur: vos identifiants ne fonctionnent pas."),C(!1)}))},title:"Se connecter"}),Object(i.jsx)(x.a,{onPress:function(){n("Register")},title:"Cr\xe9er un compte ?"})]}),Object(i.jsx)(c.a,{children:I})]})},I=n(135);var k=h.a.create({main_container:{flex:1,textAlign:"center",marginRight:10,marginLeft:10},loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"}}),R=function(e){var t=e.navigation,n=(t.navigate,t.replace),r=Object(O.useState)(""),o=j()(r,2),s=o[0],l=o[1],u=Object(O.useState)(""),d=j()(u,2),h=d[0],m=d[1],g=Object(O.useState)(""),v=j()(g,2),S=v[0],C=v[1],z=Object(O.useState)(""),w=j()(z,2),P=w[0],R=w[1],_=Object(O.useState)(""),D=j()(_,2),E=D[0],L=D[1],U=Object(O.useState)(""),q=j()(U,2),B=q[0],W=q[1],M=Object(O.useState)(""),A=j()(M,2),N=A[0],Q=A[1],J=Object(O.useState)(""),V=j()(J,2),G=V[0],H=V[1],Z=Object(O.useState)(!1),F=j()(Z,2),K=F[0],X=F[1];return K?Object(i.jsx)(p.a,{style:k.loading_container,children:Object(i.jsx)(f.a,{size:"large"})}):Object(i.jsxs)(a.a,{style:k.main_container,children:[Object(i.jsx)(c.a,{style:{fontSize:17},children:"Pr\xe9nom:"}),Object(i.jsx)(T.a,{textContentType:"username",autoCorrect:!1,autoCompleteType:"username",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return l(e)},value:s}),Object(i.jsx)(c.a,{style:{fontSize:17,marginTop:25},children:"Nom:"}),Object(i.jsx)(T.a,{textContentType:"username",autoCorrect:!1,autoCompleteType:"username",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return m(e)},value:h}),Object(i.jsx)(c.a,{style:{fontSize:17,marginTop:25},children:"Email:"}),Object(i.jsx)(T.a,{textContentType:"emailAddress",autoCorrect:!1,autoCompleteType:"email",keyboardType:"email-address",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return C(e)},value:S}),Object(i.jsx)(c.a,{style:{fontSize:17,marginTop:25},children:"Mot de passe:"}),Object(i.jsx)(T.a,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){R(e),W(E!=e?"Vos mots de passe sont diff\xe9rents":"")},value:P}),Object(i.jsx)(c.a,{style:{fontSize:17,marginTop:25},children:"R\xe9\xe9crivez le mot de passe:"}),Object(i.jsx)(T.a,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){L(e),W(P!=e?"Vos mots de passe sont diff\xe9rents":"")},value:E}),Object(i.jsxs)(I.b,{onSelect:function(e,t){return H(t)},children:[Object(i.jsx)(I.a,{value:"eleve",children:Object(i.jsx)(c.a,{children:"El\xe8ve"})}),Object(i.jsx)(I.a,{value:"prof",children:Object(i.jsx)(c.a,{children:"Professeur"})}),Object(i.jsx)(I.a,{value:"personnel",children:Object(i.jsx)(c.a,{children:"Personnel"})})]}),Object(i.jsx)(p.a,{style:{marginTop:25,flexDirection:"row",justifyContent:"space-evenly"},children:Object(i.jsx)(x.a,{title:"Cr\xe9er le compte",onPress:function(){""===B&&""!=G&&(X(!0),function(e,t,n,r,o){var s="https://mdljm.fr:8443/account/register?prenom="+encodeURI(e)+"&nom="+encodeURI(t)+"&email="+encodeURI(n)+"&type="+encodeURI(r)+"&password="+encodeURI(o);return fetch(s).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}(s,h,S,G,P).then((function(e){if(e.token){b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.awrap(y.a.setItem("token",""+e.token));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Q(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise),n("Profil")}else Q("Une erreur c'est produite. d\xe9tails: "+e.error),X(!1)})))}})}),Object(i.jsx)(c.a,{style:{color:"red"},children:B}),Object(i.jsx)(c.a,{style:{color:"red"},children:N}),Object(i.jsx)(c.a,{style:{fontSize:9},children:'Aucunes donn\xe9es personnelles ne sont collect\xe9es sauf celles rentr\xe9es pendant l\'inscription. En cliquant sur "cr\xe9er le compte" vous acceptez que vos donn\xe9es rentr\xe9es soit stock\xe9 et encrypt\xe9 dans notre base de donn\xe9es.'})]})};function _(e){var t="https://mdljm.fr:8443/account/info?token="+encodeURI(e);return fetch(t).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}var D=h.a.create({main_container:{flex:1},text:{margin:10},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}}),E=function(e){var t=e.navigation,n=t.navigate,r=t.replace,o=Object(O.useState)("Chargement en cours..."),s=j()(o,2),a=s[0],l=s[1],u=Object(O.useState)("Chargement en cours..."),d=j()(u,2),h=d[0],m=d[1],f=Object(O.useState)("Chargement en cours..."),g=j()(f,2),v=g[0],S=g[1],C=Object(O.useState)("Chargement en cours..."),z=j()(C,2),T=z[0],w=z[1];return function(){var e;b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.awrap(y.a.getItem("token"));case 3:null!==(e=t.sent)?_(e).then((function(e){l(e.prenom),m(e.nom),S(e.email),w(e.points)})):r("Login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n("Login");case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}(),Object(i.jsxs)(p.a,{style:D.main_container,children:[Object(i.jsxs)(p.a,{style:D.text,children:[Object(i.jsxs)(c.a,{children:["Nom: ",h]}),Object(i.jsxs)(c.a,{children:["Pr\xe9nom: ",a]}),Object(i.jsxs)(c.a,{children:["Email: ",v]}),Object(i.jsxs)(c.a,{children:["Points: ",T]})]}),Object(i.jsx)(p.a,{style:D.buttons,children:Object(i.jsx)(x.a,{onPress:function(){y.a.removeItem("token"),r("Login")},title:"Se d\xe9connecter"})})]})},L=Object(z.a)();var U=function(){return Object(i.jsxs)(L.Navigator,{children:[Object(i.jsx)(L.Screen,{name:"Profil",component:E}),Object(i.jsx)(L.Screen,{name:"Login",component:P,options:function(){return{headerLeft:null,headerTitle:"Connexion"}}}),Object(i.jsx)(L.Screen,{name:"Register",component:R,options:function(){return{headerTitle:"Inscription"}}})]})},q=Object(o.a)();function B(){return Object(i.jsx)(r.a,{children:Object(i.jsxs)(q.Navigator,{children:[Object(i.jsx)(q.Screen,{name:"\ud83d\udc07 P\xe2ques MDL \ud83e\udd5a",component:l,options:{tabBarIcon:function(e){var t=e.color,n=e.size;return Object(i.jsx)(s.a,{name:"egg-outline",size:n,color:t})}}}),Object(i.jsx)(q.Screen,{name:"Classement",component:C,options:{tabBarIcon:function(e){var t=e.color,n=e.size;return Object(i.jsx)(s.a,{name:"bar-chart-outline",size:n,color:t})}}}),Object(i.jsx)(q.Screen,{name:"Profil",component:U,options:{headerShown:!1,tabBarIcon:function(e){var t=e.color,n=e.size;return Object(i.jsx)(s.a,{name:"person-outline",size:n,color:t})}}})]})})}},253:function(e,t,n){e.exports=n(370)}},[[253,1,2]]]);
//# sourceMappingURL=app.b2333e53.chunk.js.map