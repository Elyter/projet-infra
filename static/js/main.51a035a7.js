(()=>{"use strict";var e={1618:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(885),o=n(5693),a=n(9245),l=n(1362),i=n(9526),s=n(6032),u=n(4333),c=n(1133),f=n(8576),d=n(9233),h=n(7557);var p=u.default.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"}});const m=function(){var e=(0,i.useState)(null),t=(0,r.default)(e,2),n=t[0],o=t[1],a=(0,i.useState)(!0),l=(0,r.default)(a,2),u=l[0],m=l[1];return(0,i.useEffect)((function(){fetch("https://mdljm.fr:8443/data/getData").then((function(e){return e.json()})).catch((function(e){return console.error(e)})).then((function(e){o(e),m(!1)}))}),[]),u?(0,h.jsx)(c.default,{style:p.loading_container,children:(0,h.jsx)(s.default,{size:"large"})}):(0,h.jsxs)(f.default,{style:{flex:1,margin:20},children:[(0,h.jsx)(d.default,{style:{fontSize:25},children:"Comment jouer ?"}),(0,h.jsx)(d.default,{style:{fontSize:17},children:n.howtoplay}),(0,h.jsx)(d.default,{style:{fontSize:25},children:"Tranche de gagnant :"}),(0,h.jsx)(d.default,{style:{fontSize:17,marginBottom:8},children:n.prize}),(0,h.jsx)(d.default,{style:{fontSize:25},children:"R\xe8glement :"}),(0,h.jsx)(d.default,{style:{fontSize:15},children:n.rules}),(0,h.jsx)(d.default,{style:{marginTop:40},children:"Site web d\xe9velopp\xe9 par Eliott Bregere"})]})};var x=n(5861),g=n(9566),y=n(2365),j=n(5519);var v=function(){var e=(0,x.default)((function*(){var e=yield j.default.getItem("token"),t="https://mdljm.fr:8443/account/getClassement?token="+encodeURI(e);return fetch(t).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}));return function(){return e.apply(this,arguments)}}(),S=function(e){return 1===e.position?(0,h.jsxs)(c.default,{style:{flexDirection:"row",margin:10,backgroundColor:"#d4ac0d"},children:[(0,h.jsxs)(d.default,{style:{fontSize:15},children:[e.position,".  "]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom," \ud83d\udc51"]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):2===e.position||3===e.position?(0,h.jsxs)(c.default,{style:{flexDirection:"row",margin:10,backgroundColor:"#aab7b8"},children:[(0,h.jsxs)(d.default,{style:{fontSize:15},children:[e.position,".  "]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):e.position>3&&e.position<=10?(0,h.jsxs)(c.default,{style:{flexDirection:"row",margin:10,backgroundColor:"#e59866"},children:[(0,h.jsxs)(d.default,{style:{fontSize:15},children:[e.position,".  "]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]}):(0,h.jsxs)(c.default,{style:{flexDirection:"row",margin:10},children:[(0,h.jsxs)(d.default,{style:{fontSize:15},children:[e.position,".  "]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginRight:10},children:[e.prenom," ",e.nom]}),(0,h.jsxs)(d.default,{style:{fontSize:15,marginLeft:"auto"},children:[e.points," Points"]})]})},b=u.default.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"},main_container:{flex:1,textAlign:"center",margin:10,alignItems:"center",justifyContent:"center"},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}});const C=function(e){var t=e.navigation,n=(t.navigate,t.replace,(0,i.useState)(0)),o=(0,r.default)(n,2),a=o[0],l=o[1],u=(0,i.useState)(0),p=(0,r.default)(u,2),m=p[0],x=p[1],j=(0,i.useState)(0),C=(0,r.default)(j,2),T=C[0],z=C[1],w=(0,i.useState)(0),_=(0,r.default)(w,2),I=_[0],P=_[1],k=(0,i.useState)(!1),R=(0,r.default)(k,2),O=R[0],E=R[1],D=(0,i.useState)({}),B=(0,r.default)(D,2),L=B[0],M=B[1],U=(0,i.useState)(!0),W=(0,r.default)(U,2),A=W[0],N=W[1],q=(0,i.useState)(0),V=(0,r.default)(q,2),F=V[0],G=V[1];return(0,i.useEffect)((function(){setInterval((function(){var e=new Date("2022-04-08T06:00:00.000Z")-new Date;if(e<1)E(!0);else{var t=Math.floor(e/864e5),n=Math.floor(e/36e5%24),r=Math.floor(e/1e3/60%60),o=Math.floor(e/1e3%60);l(t),x(n),z(r),P(o)}}),1e3)}),[]),O?A?(fetch("https://mdljm.fr:8443/qrcode/classement").then((function(e){return e.json()})).catch((function(e){return console.error(e)})).then((function(e){M(e.classement)})),v().then((function(e){G(e.rank)})),N(!1),(0,h.jsx)(c.default,{style:b.loading_container,children:(0,h.jsx)(s.default,{size:"large"})})):(0,h.jsxs)(f.default,{style:b.classement,children:[(0,h.jsxs)(c.default,{style:b.buttons,children:[(0,h.jsxs)(d.default,{children:["Votre rang est: ",F]}),(0,h.jsx)(y.default,{onPress:function(){N(!0)},title:"\ud83d\udd01"})]}),(0,h.jsx)(g.default,{data:L,renderItem:function(e){var t=e.item;return(0,h.jsx)(S,{position:t.position,prenom:t.prenom,nom:t.nom,points:t.points})}})]}):(0,h.jsxs)(c.default,{style:b.main_container,children:[(0,h.jsx)(d.default,{style:{marginBottom:10},children:"Bient\xf4t ! \ud83d\ude09"}),(0,h.jsxs)(d.default,{children:[a," Jours ",m," Heures ",T," minutes ",I," secondes"]})]})};var T=n(1866),z=n(3497);var w=u.default.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"},main_container:{flex:1,textAlign:"center",margin:10},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}});const _=function(e){var t=e.navigation,n=t.navigate,o=t.replace,a=(0,i.useState)(""),l=(0,r.default)(a,2),u=l[0],f=l[1],p=(0,i.useState)(""),m=(0,r.default)(p,2),g=m[0],v=m[1],S=(0,i.useState)(!1),b=(0,r.default)(S,2),C=b[0],T=b[1],_=(0,i.useState)(""),I=(0,r.default)(_,2),P=I[0],k=I[1];if(C)return(0,h.jsx)(c.default,{style:w.loading_container,children:(0,h.jsx)(s.default,{size:"large"})});var R=function(){var e=(0,x.default)((function*(){try{null!==(yield j.default.getItem("token"))&&o("Profil")}catch(e){}}));return function(){return e.apply(this,arguments)}}();return R(),(0,h.jsxs)(c.default,{style:w.main_container,children:[(0,h.jsx)(d.default,{style:{fontSize:17},children:"Email:"}),(0,h.jsx)(z.default,{textContentType:"emailAddress",autoCorrect:!1,autoCompleteType:"email",keyboardType:"email-address",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return f(e)},value:u}),(0,h.jsx)(d.default,{style:{fontSize:17},children:"Mot de passe:"}),(0,h.jsx)(z.default,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return v(e)},value:g}),(0,h.jsxs)(c.default,{style:w.buttons,children:[(0,h.jsx)(y.default,{onPress:function(){T(!0),function(e,t){var n="https://mdljm.fr:8443/account/login?email="+encodeURI(e)+"&password="+encodeURI(t);return fetch(n).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}(u,g).then((function(e){if(console.log(e),e.token){var t=function(){var t=(0,x.default)((function*(){try{yield j.default.setItem("token",""+e.token)}catch(P){k(P)}}));return function(){return t.apply(this,arguments)}}();t(),T(!1),n("Porfil")}else k("Erreur: vos identifiants ne fonctionnent pas."),T(!1)}))},title:"Se connecter"}),(0,h.jsx)(y.default,{onPress:function(){n("Register")},title:"Cr\xe9er un compte ?"})]}),(0,h.jsx)(d.default,{children:P})]})};var I=n(4779);var P=u.default.create({main_container:{flex:1,textAlign:"center",marginRight:10,marginLeft:10},loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"}});const k=function(e){var t=e.navigation,n=(t.navigate,t.replace),o=(0,i.useState)(""),a=(0,r.default)(o,2),l=a[0],u=a[1],p=(0,i.useState)(""),m=(0,r.default)(p,2),g=m[0],v=m[1],S=(0,i.useState)(""),b=(0,r.default)(S,2),C=b[0],T=b[1],w=(0,i.useState)(""),_=(0,r.default)(w,2),k=_[0],R=_[1],O=(0,i.useState)(""),E=(0,r.default)(O,2),D=E[0],B=E[1],L=(0,i.useState)(""),M=(0,r.default)(L,2),U=M[0],W=M[1],A=(0,i.useState)(""),N=(0,r.default)(A,2),q=N[0],V=N[1],F=(0,i.useState)(""),G=(0,r.default)(F,2),H=G[0],J=G[1],Z=(0,i.useState)(!1),K=(0,r.default)(Z,2),Q=K[0],X=K[1];return Q?(0,h.jsx)(c.default,{style:P.loading_container,children:(0,h.jsx)(s.default,{size:"large"})}):(0,h.jsxs)(f.default,{style:P.main_container,children:[(0,h.jsx)(d.default,{style:{fontSize:17},children:"Pr\xe9nom:"}),(0,h.jsx)(z.default,{textContentType:"username",autoCorrect:!1,autoCompleteType:"username",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return u(e)},value:l}),(0,h.jsx)(d.default,{style:{fontSize:17,marginTop:25},children:"Nom:"}),(0,h.jsx)(z.default,{textContentType:"username",autoCorrect:!1,autoCompleteType:"username",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return v(e)},value:g}),(0,h.jsx)(d.default,{style:{fontSize:17,marginTop:25},children:"Email:"}),(0,h.jsx)(z.default,{textContentType:"emailAddress",autoCorrect:!1,autoCompleteType:"email",keyboardType:"email-address",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){return T(e)},value:C}),(0,h.jsx)(d.default,{style:{fontSize:17,marginTop:25},children:"Mot de passe:"}),(0,h.jsx)(z.default,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){R(e),W(D!=e?"Vos mots de passe sont diff\xe9rents":"")},value:k}),(0,h.jsx)(d.default,{style:{fontSize:17,marginTop:25},children:"R\xe9\xe9crivez le mot de passe:"}),(0,h.jsx)(z.default,{textContentType:"password",secureTextEntry:!0,autoCorrect:!1,autoCompleteType:"password",style:{height:40,borderColor:"gray",borderWidth:1},onChangeText:function(e){B(e),W(k!=e?"Vos mots de passe sont diff\xe9rents":"")},value:D}),(0,h.jsxs)(I.RadioGroup,{onSelect:function(e,t){return J(t)},children:[(0,h.jsx)(I.RadioButton,{value:"eleve",children:(0,h.jsx)(d.default,{children:"El\xe8ve"})}),(0,h.jsx)(I.RadioButton,{value:"prof",children:(0,h.jsx)(d.default,{children:"Professeur"})}),(0,h.jsx)(I.RadioButton,{value:"personnel",children:(0,h.jsx)(d.default,{children:"Personnel"})})]}),(0,h.jsx)(c.default,{style:{marginTop:25,flexDirection:"row",justifyContent:"space-evenly"},children:(0,h.jsx)(y.default,{title:"Cr\xe9er le compte",onPress:function(){""===U&&""!=H&&(X(!0),function(e,t,n,r,o){var a="https://mdljm.fr:8443/account/register?prenom="+encodeURI(e)+"&nom="+encodeURI(t)+"&email="+encodeURI(n)+"&type="+encodeURI(r)+"&password="+encodeURI(o);return fetch(a).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}(l,g,C,H,k).then((function(e){if(e.token){var t=function(){var t=(0,x.default)((function*(){try{yield j.default.setItem("token",""+e.token)}catch(U){V(U)}}));return function(){return t.apply(this,arguments)}}();t(),n("Profil")}else V("Une erreur c'est produite. d\xe9tails: "+e.error),X(!1)})))}})}),(0,h.jsx)(d.default,{style:{color:"red"},children:U}),(0,h.jsx)(d.default,{style:{color:"red"},children:q}),(0,h.jsx)(d.default,{style:{fontSize:9},children:'Aucunes donn\xe9es personnelles ne sont collect\xe9es sauf celles rentr\xe9es pendant l\'inscription. En cliquant sur "cr\xe9er le compte" vous acceptez que vos donn\xe9es rentr\xe9es soit stock\xe9 et encrypt\xe9 dans notre base de donn\xe9es.'})]})};var R=u.default.create({main_container:{flex:1},text:{margin:10},buttons:{marginTop:30,flexDirection:"row",justifyContent:"space-evenly"}});const O=function(e){var t=e.navigation,n=t.navigate,o=t.replace,a=(0,i.useState)("Chargement en cours..."),l=(0,r.default)(a,2),s=l[0],u=l[1],f=(0,i.useState)("Chargement en cours..."),p=(0,r.default)(f,2),m=p[0],g=p[1],v=(0,i.useState)("Chargement en cours..."),S=(0,r.default)(v,2),b=S[0],C=S[1],T=(0,i.useState)("Chargement en cours..."),z=(0,r.default)(T,2),w=z[0],_=z[1],I=function(){var e=(0,x.default)((function*(){try{var e=yield j.default.getItem("token");null!==e?function(e){var t="https://mdljm.fr:8443/account/info?token="+encodeURI(e);return fetch(t).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}(e).then((function(e){u(e.prenom),g(e.nom),C(e.email),_(e.points)})):o("Login")}catch(t){n("Login")}}));return function(){return e.apply(this,arguments)}}();return I(),(0,h.jsxs)(c.default,{style:R.main_container,children:[(0,h.jsxs)(c.default,{style:R.text,children:[(0,h.jsxs)(d.default,{children:["Nom: ",m]}),(0,h.jsxs)(d.default,{children:["Pr\xe9nom: ",s]}),(0,h.jsxs)(d.default,{children:["Email: ",b]}),(0,h.jsxs)(d.default,{children:["Points: ",w]})]}),(0,h.jsx)(c.default,{style:R.buttons,children:(0,h.jsx)(y.default,{onPress:function(){j.default.removeItem("token"),o("Login")},title:"Se d\xe9connecter"})})]})};var E=(0,T.default)();const D=function(){return(0,h.jsxs)(E.Navigator,{children:[(0,h.jsx)(E.Screen,{name:"Profil",component:O}),(0,h.jsx)(E.Screen,{name:"Login",component:_,options:function(){return{headerLeft:null,headerTitle:"Connexion"}}}),(0,h.jsx)(E.Screen,{name:"Register",component:k,options:function(){return{headerTitle:"Inscription"}}})]})};var B=(0,a.default)();function L(){var e=(0,i.useState)(null),t=(0,r.default)(e,2),n=t[0],a=t[1],u=(0,i.useState)(!0),f=(0,r.default)(u,2),d=f[0],p=f[1];return(0,i.useEffect)((function(){fetch("https://mdljm.fr:8443/data/getData").then((function(e){return e.json()})).catch((function(e){return console.error(e)})).then((function(e){a(e),p(!1)}))}),[]),d?(0,h.jsx)(c.default,{style:M.loading_container,children:(0,h.jsx)(s.default,{size:"large"})}):(0,h.jsx)(o.default,{children:(0,h.jsxs)(B.Navigator,{children:[(0,h.jsx)(B.Screen,{name:n.name,component:m,options:{tabBarIcon:function(e){var t=e.color,n=e.size;return(0,h.jsx)(l.default,{name:"home-outline",size:n,color:t})}}}),(0,h.jsx)(B.Screen,{name:"Classement",component:C,options:{tabBarIcon:function(e){var t=e.color,n=e.size;return(0,h.jsx)(l.default,{name:"bar-chart-outline",size:n,color:t})}}}),(0,h.jsx)(B.Screen,{name:"Profil",component:D,options:{headerShown:!1,tabBarIcon:function(e){var t=e.color,n=e.size;return(0,h.jsx)(l.default,{name:"person-outline",size:n,color:t})}}})]})})}var M=u.default.create({loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(c=0;c<e.length;c++){for(var[r,o,a]=e[c],i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>l[e]=()=>r[e]));return l.default=()=>r,n.d(a,l),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,i,s]=r,u=0;if(l.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var c=s(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[139],(()=>n(9484)));r=n.O(r)})();
//# sourceMappingURL=main.51a035a7.js.map